<%- include('partials/header', { title: 'Ordine'}) %>            
    
    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-md p-1 border-bottom sticky-top bg-white">
        <div class="container-fluid">
            <a class="navbar-brand name ms-4 my-1" href="/">
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="60" viewBox="0 0 640 560" fill="currentColor" class="bi bi-dumbbell">
                    <path d="M96 64c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32l0 160 0 64 0 160c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-64-32 0c-17.7 0-32-14.3-32-32l0-64c-17.7 0-32-14.3-32-32s14.3-32 32-32l0-64c0-17.7 14.3-32 32-32l32 0 0-64zm448 0l0 64 32 0c17.7 0 32 14.3 32 32l0 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l0 64c0 17.7-14.3 32-32 32l-32 0 0 64c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-160 0-64 0-160c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32zM416 224l0 64-192 0 0-64 192 0z"/>
                </svg>
                Trainly
            </a>
        </div>
    </nav>


    <!-- MAIN -->
    <main class="container my-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <!-- Messaggio di successo -->
                <div class="text-center mb-5">
                    <h2 class="text-success mb-3">Ordine Confermato!</h2>
                    <p class="lead">Grazie per il tuo acquisto. Il tuo ordine è stato elaborato con successo.</p>
                </div>

                <!-- Dettagli ordine -->
                <div class="card order-card mb-4">
                    <div class="card-body p-4">
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <h5 class="mb-3">Dettagli ordine</h5>
                                <p><strong>ID ordine:</strong> <span id="orderNumber">-</span></p>
                                <p><strong>Data:</strong> <span id="orderDate">-</span></p>
                                <p><strong>Stato:</strong> <span class="badge bg-success">Confermato</span></p>
                            </div>
                            <div class="col-md-6">
                                <h5 class="mb-3">Dati di fatturazione</h5>
                                <div id="billingInfo">
                                    <!-- JS -->
                                </div>
                            </div>
                        </div>

                        <h5 class="mb-3">Prodotti ordinati</h5>
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Prodotto</th>
                                        <th class="text-center">Quantità</th>
                                        <th class="text-end">Prezzo</th>
                                        <th class="text-end">Totale</th>
                                    </tr>
                                </thead>
                                <tbody id="orderItems">
                                    <!-- JS -->
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td colspan="3"><strong>Subtotale:</strong></td>
                                        <td class="text-end"><strong id="orderSubtotal">€0.00</strong></td>
                                    </tr>
                                    <tr>
                                        <td colspan="3">Tasse (22%):</td>
                                        <td class="text-end" id="orderTaxes">€0.00</td>
                                    </tr> 
                                    <tr class="table-active">
                                        <td colspan="3"><strong>Totale:</strong></td>
                                        <td class="text-end"><strong id="orderTotal">€0.00</strong></td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Timeline dell'ordine -->
                <div class="card order-card mb-4">
                    <div class="card-body p-4">
                        <h5 class="mb-4">Stato dell'ordine</h5>
                        <div class="timeline">
                            <div class="timeline-item active">
                                <span class="timeline-icon">1</span>
                                <div>
                                    <h6 class="mb-1">Ordine ricevuto</h6>
                                    <small class="text-muted" id="currentDateTime">-</small>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <span class="timeline-icon">2</span>
                                <div>
                                    <h6 class="mb-1">Elaborazione pagamento</h6>
                                    <small class="text-muted">Entro 24 ore</small>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <span class="timeline-icon">3</span>
                                <div>
                                    <h6 class="mb-1">Consegna prodotti digitali</h6>
                                    <small class="text-muted">Entro 48 ore</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Prossimi passi -->
                <div class="card order-card mb-4">
                    <div class="card-body p-4">
                        <h5 class="mb-3">Prossimi passi</h5>
                        <ul class="list-unstyled">
                            <li class="mb-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope text-primary me-2" viewBox="0 0 16 16">
                                    <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"/>
                                </svg>
                                Riceverai una email di conferma all'indirizzo <strong id="customerEmail">-</strong>
                            </li>
                            <li class="mb-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download text-success me-2" viewBox="0 0 16 16">
                                    <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/>
                                    <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"/>
                                </svg>
                                I prodotti digitali saranno disponibili per il download entro 48 ore
                            </li>
                            <li class="mb-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-headset text-info me-2" viewBox="0 0 16 16">
                                    <path d="M8 1a5 5 0 0 0-5 5v1h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V6a6 6 0 1 1 12 0v6a2.5 2.5 0 0 1-2.5 2.5H9.366a1 1 0 0 1-.866-.5l-1.732-3a.5.5 0 0 1 .866-.5l1.732 3H11.5A1.5 1.5 0 0 0 13 12V6a5 5 0 0 0-5-5"/>
                                </svg>
                                Per assistenza, <a href="/contatti" class="text-decoration-none">contattaci</a> indicando l'ID dell'ordine
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Azioni -->
                <div class="text-center">
                    <a href="/catalogo" class="btn me-3 btn-custom text-white">
                        <i class="bi bi-arrow-left-short"></i>
                        Continua lo shopping
                    </a>
                    <button class="btn btn-light" onclick="window.print()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-printer me-2" viewBox="0 0 16 16">
                            <path d="M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"/>
                            <path d="M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2z"/>
                        </svg>
                        Stampa ricevuta
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" 
    crossorigin="anonymous"></script>
    <script src="/js/confermaOrdine.js"></script>

</body>
</html>